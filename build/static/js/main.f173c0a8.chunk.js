(this.webpackJsonptafl=this.webpackJsonptafl||[]).push([[0],{12:function(e,t,a){e.exports=a(25)},17:function(e,t,a){},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var l,n,o=a(1),s=a.n(o),i=a(9),r=a.n(i),y=(a(17),a(7)),c=a.n(y),u=a(2),x=a(10),v=a(4),d=(a(19),a(3)),p=a(5),k=a(11);d.b.add(p.c,p.a,p.b),function(e){e[e.Player1=0]="Player1",e[e.Player2=1]="Player2"}(l||(l={})),function(e){e[e.White=0]="White",e[e.Black=1]="Black",e[e.Free=2]="Free"}(n||(n={}));var h=[{x:0,y:2,type:n.Black},{x:0,y:5,type:n.Black},{x:0,y:6,type:n.Black},{x:0,y:7,type:n.Black},{x:0,y:10,type:n.Black},{x:1,y:1,type:n.Black},{x:1,y:11,type:n.Black},{x:2,y:0,type:n.Black},{x:2,y:12,type:n.Black},{x:5,y:0,type:n.Black},{x:5,y:12,type:n.Black},{x:6,y:0,type:n.Black},{x:6,y:12,type:n.Black},{x:7,y:0,type:n.Black},{x:7,y:12,type:n.Black},{x:10,y:0,type:n.Black},{x:10,y:12,type:n.Black},{x:11,y:1,type:n.Black},{x:11,y:11,type:n.Black},{x:12,y:2,type:n.Black},{x:12,y:5,type:n.Black},{x:12,y:6,type:n.Black},{x:12,y:7,type:n.Black},{x:12,y:10,type:n.Black},{x:4,y:6,type:n.White},{x:5,y:5,type:n.White},{x:5,y:6,type:n.White},{x:5,y:7,type:n.White},{x:6,y:4,type:n.White},{x:6,y:5,type:n.White},{x:6,y:6,type:n.White},{x:6,y:7,type:n.White},{x:6,y:8,type:n.White},{x:7,y:5,type:n.White},{x:7,y:6,type:n.White},{x:7,y:7,type:n.White},{x:8,y:6,type:n.White}],f={coordinate:null,availables:null},b={active:!0};var B=function(){var e=Object(o.useState)(),t=Object(v.a)(e,2),a=t[0],i=t[1],r=Object(o.useState)(l.Player1),y=Object(v.a)(r,2),d=y[0],p=y[1],B=Object(o.useState)(f),m=Object(v.a)(B,2),g=m[0],W=m[1],F=Object(o.useState)(b),P=Object(v.a)(F,2),j=P[0],w=P[1];Object(o.useEffect)((function(){a||O()}),[]);var O=function(){for(var e=[],t=0;t<13;t++){for(var a=[],l=0;l<13;l++)a.push({id:t.toString()+l.toString(),status:n.Free,x:t,y:l});e.push(a)}h.forEach((function(t){t.type===n.Black?e[t.x][t.y].status=n.Black:(e[t.x][t.y].status=n.White,6===t.x&&6===t.y&&(e[t.x][t.y].isKing=!0))})),i(e)};function E(){W({coordinate:null,availables:null})}var K=function(e,t){var l=[];if(a){for(var o=e+1;o<13&&a[o][t].status===n.Free;o++)l.push({x:o,y:t});for(var s=e-1;s>=0&&a[s][t].status===n.Free;s--)l.push({x:s,y:t});for(var i=t-1;i>=0&&a[e][i].status===n.Free;i--)l.push({x:e,y:i});for(var r=t+1;r<13&&a[e][r].status===n.Free;r++)l.push({x:e,y:r})}return l};function S(e){var t,o,r,y=!1;e.status===n.Free&&(y=!0),y||(r=s.a.createElement(k.a,{icon:e.isKing?"chess-king":"chess-pawn",color:e.status===n.Black?"black":"white",size:"2x"}));var v=e.x===(null===(t=g.coordinate)||void 0===t?void 0:t.x)&&e.y===(null===(o=g.coordinate)||void 0===o?void 0:o.y),h=v?" selected":"",f=!1;if(!v&&g.availables)for(var b=0;b<g.availables.length;b++)if(e.x===g.availables[b].x&&e.y===g.availables[b].y){f=!0;break}var B=f?" available":"";return s.a.createElement("button",{key:e.id,className:"square"+"".concat(h)+"".concat(B),onClick:Object(x.a)(c.a.mark((function t(){var o,s,r,x,k,h,b,B,m,F,P,O,S,N,q,C,J;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&console.log("clicked on square: ",a[e.x][e.y]),j.active){t.next=3;break}return t.abrupt("return");case 3:y&&!f||v?E():(o=d===l.Player1,s=!(!a||a[e.x][e.y].status!==n.White),r=d===l.Player2,x=!(!a||a[e.x][e.y].status!==n.Black),o&&s||r&&x||a&&a[e.x][e.y].status===n.Free?g.coordinate?(null===g||void 0===g||null===(k=g.coordinate)||void 0===k?void 0:k.x)&&(null===g||void 0===g||null===(h=g.coordinate)||void 0===h?void 0:h.y)&&a&&a[null===g||void 0===g||null===(b=g.coordinate)||void 0===b?void 0:b.x][g.coordinate.y].status===a[e.x][e.y].status?W({coordinate:{x:e.x,y:e.y},availables:K(e.x,e.y)}):a&&f&&((null===g||void 0===g||null===(B=g.coordinate)||void 0===B?void 0:B.x)||0===(null===g||void 0===g||null===(m=g.coordinate)||void 0===m?void 0:m.x))&&((null===g||void 0===g||null===(F=g.coordinate)||void 0===F?void 0:F.y)||0===(null===g||void 0===g||null===(P=g.coordinate)||void 0===P?void 0:P.y))?(q=a.map((function(e){return e.slice()})),C=a[null===g||void 0===g||null===(O=g.coordinate)||void 0===O?void 0:O.x][g.coordinate.y],q[e.x][e.y]=Object(u.a)(Object(u.a)({},e),{},{isKing:C.isKing,status:C.status}),q[null===g||void 0===g||null===(S=g.coordinate)||void 0===S?void 0:S.x][null===g||void 0===g||null===(N=g.coordinate)||void 0===N?void 0:N.y]=Object(u.a)(Object(u.a)({},C),{},{isKing:e.isKing,status:e.status}),(J=q[e.x][e.y]).x<11&&q[J.x+1][J.y].status!==n.Free&&q[J.x+1][J.y].status!==J.status&&q[J.x+2][J.y].status===J.status&&(q[J.x+1][J.y].status=n.Free),J.x>1&&q[J.x-1][J.y].status!==n.Free&&q[J.x-1][J.y].status!==J.status&&q[J.x-2][J.y].status===J.status&&(q[J.x-1][J.y].status=n.Free),J.y>1&&q[J.x][J.y-1].status!==n.Free&&q[J.x][J.y-1].status!==J.status&&q[J.x][J.y-2].status===J.status&&(q[J.x][J.y-1].status=n.Free),J.y<11&&q[J.x][J.y+1].status!==n.Free&&q[J.x][J.y+1].status!==J.status&&q[J.x][J.y+2].status===J.status&&(q[J.x][J.y+1].status=n.Free),q[J.x][J.y].isKing&&(c=q[J.x][J.y].x,z=q[J.x][J.y].y,0===c&&0===z||0===c&&12===z||12===c&&0===z||12===c&&12===z)&&w(Object(u.a)(Object(u.a)({},j),{},{active:!1,winner:d})),p(d===l.Player1?l.Player2:l.Player1),i(q),E()):(console.log("devia ter mexido"),console.log(a,f,g)):W({coordinate:{x:e.x,y:e.y},availables:K(e.x,e.y)}):console.log("q?"));case 4:case"end":return t.stop()}var c,z}),t)})))},r)}return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"table"},s.a.createElement("span",null,"Jogador: ",d===l.Player1?"Player 1":"Player 2"),j.active?null:s.a.createElement("span",null,"Vencedor:"," ",j.winner===l.Player1?"Player 1":"Player 2"),a?function(){for(var e=[],t=0;t<13;t++){for(var l=[],n=0;n<13;n++)a&&l.push(S(a[t][n]));e.push(s.a.createElement("div",{key:"row"+t,className:"tableRow"},l))}return e}():s.a.createElement("span",null,"Carregando tabuleiro."),s.a.createElement("button",{onClick:function(){O(),p(l.Player1),W(f),w(b)}},"reset")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.f173c0a8.chunk.js.map